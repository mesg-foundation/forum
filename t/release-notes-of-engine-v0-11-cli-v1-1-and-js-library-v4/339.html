<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <title>Release Notes of Engine v0.11, CLI v1.1 and JS library v4 - News - MESG Community</title>
    <meta name="description" content="New Engine gRPC APIs
This release introduces new gRPC APIs to replace the previous ones. These new APIs are resource oriented, follow the CRUD convention and identify each resource with a unique hash. 
Each group of APIs&amp;hellip;">
    <meta name="generator" content="Discourse 2.5.0.beta5 - https://github.com/discourse/discourse version 00aab498297cba8f977c1e0eb17b7d38ff06cc68">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/9f11b6ddfa02bffdbec79487592a0573a0236cb5_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/53630361a40ad76e1733dd0b0f486e9ae2f4f4d6_2_180x180.png">
<meta name="theme-color" content="#491e8c">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="339.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.mesg.com","potentialAction":{"@type":"SearchAction","target":"https://forum.mesg.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="MESG Community Search">

      <link href="../../stylesheets/desktop_3_52e3411e87658e862890db7bd06899cf49ad5f59.css%3F__ws=forum.mesg.com.css" media="all" rel="stylesheet" data-target="desktop" data-theme-id="7"/>
      <link href="../../stylesheets/desktop_theme_7_bf4f2d3d8a71e6ee907065be9a79df3d849bd29c.css%3F__ws=forum.mesg.com.css" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="7"/>
    
    <meta id="data-ga-universal-analytics" data-tracking-code="UA-117583862-1" data-json="{&quot;cookieDomain&quot;:&quot;auto&quot;}" data-auto-link-domains="">

<link rel="preload" href="../../assets/google-universal-analytics-00f5cdf7dfd45cba1ae2d258c3366c371c5671023250abbd964a1f16fc2c11a7.js" as="script">
<script src="../../assets/google-universal-analytics-00f5cdf7dfd45cba1ae2d258c3366c371c5671023250abbd964a1f16fc2c11a7.js"></script>


        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Release Notes of Engine v0.11, CLI v1.1 and JS library v4&#39;" href="339.rss" />
    <meta property="og:site_name" content="MESG Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.mesg.com/uploads/default/original/1X/55dc05831fcfbf2dd0677c9ae39099094e85cc07.png" />
<meta property="og:image" content="https://forum.mesg.com/uploads/default/original/1X/55dc05831fcfbf2dd0677c9ae39099094e85cc07.png" />
<meta property="og:url" content="https://forum.mesg.com/t/release-notes-of-engine-v0-11-cli-v1-1-and-js-library-v4/339" />
<meta name="twitter:url" content="https://forum.mesg.com/t/release-notes-of-engine-v0-11-cli-v1-1-and-js-library-v4/339" />
<meta property="og:title" content="Release Notes of Engine v0.11, CLI v1.1 and JS library v4" />
<meta name="twitter:title" content="Release Notes of Engine v0.11, CLI v1.1 and JS library v4" />
<meta property="og:description" content="New Engine gRPC APIs This release introduces new gRPC APIs to replace the previous ones. These new APIs are resource oriented, follow the CRUD convention and identify each resource with a unique hash.  Each group of APIs (one per resource) implement the same subset of the functions: get, list, update, delete and stream:    Get returns one resource specified by its hash  List returns an array of resources matching the specified filter  Update modifies one resource specified by its hash  Delete re..." />
<meta name="twitter:description" content="New Engine gRPC APIs This release introduces new gRPC APIs to replace the previous ones. These new APIs are resource oriented, follow the CRUD convention and identify each resource with a unique hash.  Each group of APIs (one per resource) implement the same subset of the functions: get, list, update, delete and stream:    Get returns one resource specified by its hash  List returns an array of resources matching the specified filter  Update modifies one resource specified by its hash  Delete re..." />
<meta property="article:published_time" content="2019-07-09T05:39:39+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/1X/81100f444852fa77ae7cd5276c5683e9a8cfc9a2.png" alt="MESG Community" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="339.html">Release Notes of Engine v0.11, CLI v1.1 and JS library v4</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/news.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #0088CC'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>News</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='../../tag/v0-11.html' class='discourse-tag' rel="tag">v0-11</a>, 
            <a href='../../tag/release.html' class='discourse-tag' rel="tag">release</a>
        </div>
      </div>
  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='MESG Foundation'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.mesg.com/uploads/default/original/1X/81100f444852fa77ae7cd5276c5683e9a8cfc9a2.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/Nicolas.html'><span itemprop='name'>Nicolas</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="339.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2019-07-09T05:39:39Z'>
              <time itemprop='dateModified' datetime='2019-07-09T05:39:53Z' class='post-time'>
                July 9, 2019,  5:39am
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <h1>New Engine gRPC APIs</h1>
<p>This release introduces new gRPC APIs to replace the previous ones. These new APIs are resource oriented, follow the CRUD convention and identify each resource with a unique hash.</p>
<p>Each group of APIs (one per resource) implement the same subset of the functions: <strong>get, list, update, delete</strong> and <strong>stream</strong>:</p>
<ul>
<li>
<strong>Get</strong> returns one resource specified by its hash</li>
<li>
<strong>List</strong> returns an array of resources matching the specified filter</li>
<li>
<strong>Update</strong> modifies one resource specified by its hash</li>
<li>
<strong>Delete</strong> removes one resource specified by its hash</li>
<li>
<strong>Stream</strong> notifies any creation, update or deletion of the resources matching the specified filter</li>
</ul>
<p>It’s now easier to know exactly what is going inside the Engine and how resources interact with each other.</p>
<h1>Update of mesg-js</h1>
<p>The update of the Engine’s APIs have consequently broken the internal logic of the <code>mesg-js</code> library. But don’t worry, we’ve kept as much as possible of the public API of the lib for easy updating.</p>
<p>To update, run:</p>
<pre><code class="lang-bash">npm install mesg-js@4.1.0
</code></pre>
<h3>Service side</h3>
<p>The functions on the service side haven’t changed. Only a few Typescript type names have been modified. In most cases, you should only update the library without changing the source code.</p>
<h3>Application side</h3>
<p>The functions on the application side have changed a little bit.</p>
<p>The parameters of <code>listenEvent</code> and <code>listenResult</code> now require a object <code>filter</code> that contains the actual criteria. All <code>serviceHash</code> have been replaced by <code>instanceHash</code> as it’s the new way the Engine is starting services.</p>
<pre><code class="lang-javascript">mesg.listenEvent({
  filter: {
    instanceHash: 'EVENT_INSTANCE_HASH',
    key: 'EVENT_KEY' // optional
  }
})
.on('data', (event) =&gt; {
  console.log('an event received:', event.key, JSON.parse(event.data))
})
</code></pre>
<p>The automatic resolution of <code>SID</code> has also been removed from the Engine and should now be done by the application. We added a helper function to do this easily:</p>
<pre><code class="lang-javascript">const instanceHash = await mesg.resolve('SID_OF_THE_SERVICE')
</code></pre>
<h1>Updated mesg-cli</h1>
<p>The same commands have been kept and the internal logic has been updated to make it work with the latest Engine version.<br>
To update the CLI, run:</p>
<pre><code class="lang-bash">npm install mesg-cli@1.1.0
</code></pre>
<h1>Internal changes in Engine</h1>
<h3>New Instance database</h3>
<p>A new resource has been introduced: Instance.</p>
<p>An Instance is the living version of a Service. It makes it possible to start many Instances from the same Service as long as their environmental variables are different. Services are now only static definitions of events, tasks, configurations and dependencies. The service definition also contains the service’s source code as an IPFS hash.</p>
<p>You can still create, delete, list and get Services. But service subcommands: start, stop, logs, and execute now require an Instance Hash.</p>
<h3>Chain of Executions</h3>
<p>The execution database has been transformed to prepare for the next big feature: Workflows.<br>
Executions can now reference previous executions, have improved state and better event integrations. These changes are also reflected in the gRPC APIs.</p>
<h3>Introduction of SDK package</h3>
<p>The architecture of the Engine has been reorganized to implement an SDK package that should allow developers to integrate the Engine in a Go project on a much lower level than with the gRPC APIs. The package is divided into small packages per resource.</p>
<hr>
<p>The complete changelog of the Engine can be found <a href="https://github.com/mesg-foundation/engine/blob/dev/CHANGELOG.md#v0110" rel="nofollow noopener">on Github</a>.</p>
<p>The complete changelog of mesg-js library can be found <a href="https://github.com/mesg-foundation/mesg-js/blob/master/CHANGELOG.md" rel="nofollow noopener">on Github</a>.</p>
<p>To update to Engine v0.11, follow the <a href="https://docs.mesg.com/guide/installation.html" rel="nofollow noopener">installation process on the documentation </a></p>
        </div>

        <meta itemprop='headline' content='Release Notes of Engine v0.11, CLI v1.1 and JS library v4'>
          <meta itemprop='keywords' content='v0-11, release'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../tos.html' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../privacy.html' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
