<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <title>Service composition - Engine - MESG Community</title>
    <meta name="description" content="Proposal
The goal is to make application as DRY as possible and reusability is something important so why not apply this also for services and compose services based on other services to use an existing service and just &amp;hellip;">
    <meta name="generator" content="Discourse 2.5.0.beta5 - https://github.com/discourse/discourse version 00aab498297cba8f977c1e0eb17b7d38ff06cc68">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/9f11b6ddfa02bffdbec79487592a0573a0236cb5_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/53630361a40ad76e1733dd0b0f486e9ae2f4f4d6_2_180x180.png">
<meta name="theme-color" content="#491e8c">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="22.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.mesg.com","potentialAction":{"@type":"SearchAction","target":"https://forum.mesg.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="MESG Community Search">

      <link href="../../stylesheets/desktop_3_52e3411e87658e862890db7bd06899cf49ad5f59.css%3F__ws=forum.mesg.com.css" media="all" rel="stylesheet" data-target="desktop" data-theme-id="7"/>
      <link href="../../stylesheets/desktop_theme_7_bf4f2d3d8a71e6ee907065be9a79df3d849bd29c.css%3F__ws=forum.mesg.com.css" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="7"/>
    
    <meta id="data-ga-universal-analytics" data-tracking-code="UA-117583862-1" data-json="{&quot;cookieDomain&quot;:&quot;auto&quot;}" data-auto-link-domains="">

<link rel="preload" href="../../assets/google-universal-analytics-00f5cdf7dfd45cba1ae2d258c3366c371c5671023250abbd964a1f16fc2c11a7.js" as="script">
<script src="../../assets/google-universal-analytics-00f5cdf7dfd45cba1ae2d258c3366c371c5671023250abbd964a1f16fc2c11a7.js"></script>


        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Service composition&#39;" href="22.rss" />
    <meta property="og:site_name" content="MESG Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.mesg.com/uploads/default/original/1X/55dc05831fcfbf2dd0677c9ae39099094e85cc07.png" />
<meta property="og:image" content="https://forum.mesg.com/uploads/default/original/1X/55dc05831fcfbf2dd0677c9ae39099094e85cc07.png" />
<meta property="og:url" content="https://forum.mesg.com/t/service-composition/22" />
<meta name="twitter:url" content="https://forum.mesg.com/t/service-composition/22" />
<meta property="og:title" content="Service composition" />
<meta name="twitter:title" content="Service composition" />
<meta property="og:description" content="Proposal The goal is to make application as DRY as possible and reusability is something important so why not apply this also for services and compose services based on other services to use an existing service and just build on top of that one to add extra tasks or extra events, create a proxy of this service.  Example Let’s take the example of Ethereum:  We could have one service Ethereum with the following events with the raw data from the ethereum node:   onBlock onTransaction  And the follo..." />
<meta name="twitter:description" content="Proposal The goal is to make application as DRY as possible and reusability is something important so why not apply this also for services and compose services based on other services to use an existing service and just build on top of that one to add extra tasks or extra events, create a proxy of this service.  Example Let’s take the example of Ethereum:  We could have one service Ethereum with the following events with the raw data from the ethereum node:   onBlock onTransaction  And the follo..." />
<meta property="article:published_time" content="2018-08-28T03:12:03+00:00" />
<meta property="og:ignore_canonical" content="true" />



    <script type="application/ld+json">{"@context":"http://schema.org","@type":"QAPage","name":"Service composition","mainEntity":{"@type":"Question","name":"Service composition","text":"Proposal\n\nThe goal is to make application as DRY as possible and reusability is something important so why not apply this also for services and compose services based on other services to use an existing service and just build on top of that one to add extra tasks or extra events, create a proxy of t&hellip;","upvoteCount":0,"answerCount":0,"dateCreated":"2018-08-28T03:12:03.072Z","author":{"@type":"Person","name":"Anthony"}}}</script>
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/1X/81100f444852fa77ae7cd5276c5683e9a8cfc9a2.png" alt="MESG Community" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="22.html">Service composition</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/development.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #AB9364'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/development/engine.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #AB9364'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Engine</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='MESG Foundation'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.mesg.com/uploads/default/original/1X/81100f444852fa77ae7cd5276c5683e9a8cfc9a2.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/Anthony.html'><span itemprop='name'>Anthony</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="22.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-08-28T03:12:03Z' class='post-time'>
                August 28, 2018,  3:12am
              </time>
              <meta itemprop='dateModified' content='2018-08-28T03:12:03Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <h2>Proposal</h2>
<p>The goal is to make application as DRY as possible and reusability is something important so why not apply this also for services and compose services based on other services to use an existing service and just build on top of that one to add extra tasks or extra events, create a proxy of this service.</p>
<h2>Example</h2>
<p>Let’s take the example of Ethereum:</p>
<p>We could have one service Ethereum with the following events with the raw data from the ethereum node:</p>
<ul>
<li>onBlock</li>
<li>onTransaction<br>
And the following tasks:</li>
<li>sendTransaction</li>
</ul>
<p>Based on that we could create a service ethereum contract that would listen for the <code>onTransaction</code> event and check the logs to emit the event:</p>
<ul>
<li>onContractEvent<br>
and have the task:</li>
<li>callContract</li>
</ul>
<p>Also based on this one we could have another service CryptoKitty or whatever dApp service that would use the contract service for a specific contract and have specific events:</p>
<ul>
<li>onKittyPregnent</li>
<li>onBirth<br>
…<br>
and tasks:</li>
<li>buyKitty</li>
<li>getKitty<br>
…</li>
</ul>
<h2>Solution</h2>
<p>I see 2 different ways to do that, let’s take this service that we want to use</p>
<pre><code class="lang-auto">name: "Ethereum"
events:
  onTx: ...
tasks:
  sendTx: ....
dependencies:
  app:
    image: mesg/ethereum
  ethereum:
    image: ethereum/geth
</code></pre>
<h3>Configuration inheritance</h3>
<p>When we describe the service we can inherit from another service. Inheritance is not always good but in this case the good point is that it will kind of duplicate the service we wants to inherit from in our service.</p>
<p><strong>Kitty Service</strong></p>
<pre><code class="lang-auto">name: "contact"
inherits: "Ethereum"
event:
  onKittyDead: ...
dependencies:
  contract:
    image: mesg/contract
</code></pre>
<p>this will result of a service like that</p>
<pre><code class="lang-auto">name: "Service B"
events:
  onTx: ...
  onKittyDead: ...
tasks:
  sendTx: ....
dependencies:
  app:
    image: mesg/ethereum
  ethereum:
    image: ethereum/geth
  contract:
    image: mesg/contract
</code></pre>
<p>The good point is that we don’t have to write write any extra code if we want also to propagate events/task from service A and our service really includes all the technologies inside it’s own service (like it’s own ethereum node for example) but the problem is that we don’t really reuse and this service will need it’s own network</p>
<h3>Use another service</h3>
<p>In this case the service definition will only be the events and tasks that you want to expose and you will have as a developer in you service code to connect to the other service through MESG core apis and not directly. This adds an unnecessary communication layer and force us to expose for service some APIs like <code>listenEvent</code> or <code>executeTask</code> and maybe sone security issues with one service that call another one without any authorization. The good point in this case is that we really reuse a service and if this service and its network.</p>
<p>We should also make sure to add it in the description and have the following mesg.yml file like that we can automatically start/stop the services that this service need to use.</p>
<pre><code class="lang-auto">name: "contact"
use:
  - "Ethereum"
event:
  onKittyDead: ...
dependencies:
  contract:
    image: mesg/contract
</code></pre>
        </div>

        <meta itemprop='headline' content='Service composition'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../service-interface/24.html" itemprop='item'>
                      <meta itemprop='url' content='https://forum.mesg.com/t/service-interface/24'>
                      <meta itemprop='position' content='1'>
                      <span itemprop='name'>Service interface</span>
                    </a>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../plugin-system-use-mesg-service-to-build-mesg-core/23.html" itemprop='item'>
                      <meta itemprop='url' content='https://forum.mesg.com/t/plugin-system-use-mesg-service-to-build-mesg-core/23'>
                      <meta itemprop='position' content='2'>
                      <span itemprop='name'>[Plugin system] Use MESG service to develop MESG core</span>
                    </a>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../the-import-cycle-between-api-systemservices-packages/105/9.html" itemprop='item'>
                      <meta itemprop='url' content='https://forum.mesg.com/t/the-import-cycle-between-api-systemservices-packages/105/9'>
                      <meta itemprop='position' content='3'>
                      <span itemprop='name'>The Import Cycle Between API &amp; SystemServices Packages</span>
                    </a>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../support-named-services-for-communication-of-services-in-the-shared-network/113/2.html" itemprop='item'>
                      <meta itemprop='url' content='https://forum.mesg.com/t/support-named-services-for-communication-of-services-in-the-shared-network/113/2'>
                      <meta itemprop='position' content='4'>
                      <span itemprop='name'>Support Named Services for Communication of Services in the Shared Network</span>
                    </a>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../support-named-services-for-communication-of-services-in-the-shared-network/113/6.html" itemprop='item'>
                      <meta itemprop='url' content='https://forum.mesg.com/t/support-named-services-for-communication-of-services-in-the-shared-network/113/6'>
                      <meta itemprop='position' content='5'>
                      <span itemprop='name'>Support Named Services for Communication of Services in the Shared Network</span>
                    </a>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../reusable-workflows-workflow-marketplace/207.html" itemprop='item'>
                      <meta itemprop='url' content='https://forum.mesg.com/t/reusable-workflows-workflow-marketplace/207'>
                      <meta itemprop='position' content='6'>
                      <span itemprop='name'>Reusable Workflows &amp; Workflow Marketplace</span>
                    </a>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../integration-of-workflows-in-services-solves-service-composition/283.html" itemprop='item'>
                      <meta itemprop='url' content='https://forum.mesg.com/t/integration-of-workflows-in-services-solves-service-composition/283'>
                      <meta itemprop='position' content='7'>
                      <span itemprop='name'>Integration of workflows in services (solves service composition)</span>
                    </a>
                  </div>
            </div>
      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../tos.html' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../privacy.html' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
