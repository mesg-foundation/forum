<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <title>Integration of workflows in services (solves service composition) - Engine - MESG Community</title>
    <meta name="description" content="Goal
Having the possibility to create and connect existing workflows/applications (already discussed here https://forum.mesg.com/t/reusable-workflows-workflow-marketplace/207). 
Anything that an application is doing, a w&amp;hellip;">
    <meta name="generator" content="Discourse 2.5.0.beta5 - https://github.com/discourse/discourse version 00aab498297cba8f977c1e0eb17b7d38ff06cc68">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/9f11b6ddfa02bffdbec79487592a0573a0236cb5_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/53630361a40ad76e1733dd0b0f486e9ae2f4f4d6_2_180x180.png">
<meta name="theme-color" content="#491e8c">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="283.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.mesg.com","potentialAction":{"@type":"SearchAction","target":"https://forum.mesg.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="MESG Community Search">

      <link href="../../stylesheets/desktop_3_52e3411e87658e862890db7bd06899cf49ad5f59.css%3F__ws=forum.mesg.com.css" media="all" rel="stylesheet" data-target="desktop" data-theme-id="7"/>
      <link href="../../stylesheets/desktop_theme_7_bf4f2d3d8a71e6ee907065be9a79df3d849bd29c.css%3F__ws=forum.mesg.com.css" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="7"/>
    
    <meta id="data-ga-universal-analytics" data-tracking-code="UA-117583862-1" data-json="{&quot;cookieDomain&quot;:&quot;auto&quot;}" data-auto-link-domains="">

<link rel="preload" href="../../assets/google-universal-analytics-00f5cdf7dfd45cba1ae2d258c3366c371c5671023250abbd964a1f16fc2c11a7.js" as="script">
<script src="../../assets/google-universal-analytics-00f5cdf7dfd45cba1ae2d258c3366c371c5671023250abbd964a1f16fc2c11a7.js"></script>


        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Integration of workflows in services (solves service composition)&#39;" href="283.rss" />
    <meta property="og:site_name" content="MESG Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.mesg.com/uploads/default/original/1X/55dc05831fcfbf2dd0677c9ae39099094e85cc07.png" />
<meta property="og:image" content="https://forum.mesg.com/uploads/default/original/1X/55dc05831fcfbf2dd0677c9ae39099094e85cc07.png" />
<meta property="og:url" content="https://forum.mesg.com/t/integration-of-workflows-in-services-solves-service-composition/283" />
<meta name="twitter:url" content="https://forum.mesg.com/t/integration-of-workflows-in-services-solves-service-composition/283" />
<meta property="og:title" content="Integration of workflows in services (solves service composition)" />
<meta name="twitter:title" content="Integration of workflows in services (solves service composition)" />
<meta property="og:description" content="Goal Having the possibility to create and connect existing workflows/applications (already discussed here Reusable Workflows &amp; Workflow Marketplace).  Anything that an application is doing, a workflow should be able to do by providing a simple interface (and an advanced mode for the ones who want)  In order to solve all that and even more (like Service composition) we can merge the concept of application and services. This way applications are managed by the engine and the user don’t have to do ..." />
<meta name="twitter:description" content="Goal Having the possibility to create and connect existing workflows/applications (already discussed here Reusable Workflows &amp; Workflow Marketplace).  Anything that an application is doing, a workflow should be able to do by providing a simple interface (and an advanced mode for the ones who want)  In order to solve all that and even more (like Service composition) we can merge the concept of application and services. This way applications are managed by the engine and the user don’t have to do ..." />
<meta property="article:published_time" content="2019-05-19T07:35:05+00:00" />
<meta property="og:ignore_canonical" content="true" />



    <script type="application/ld+json">{"@context":"http://schema.org","@type":"QAPage","name":"Integration of workflows in services (solves service composition)","mainEntity":{"@type":"Question","name":"Integration of workflows in services (solves service composition)","text":"Goal\n\nHaving the possibility to create and connect existing workflows/applications (already discussed here <a href="https://forum.mesg.com/t/integration-of-workflows-in-services-solves-service-composition/\&quot;https://forum.mesg.com/t/reusable-workflows-workflow-marketplace/207\&quot;" class=\"inline-onebox\">Reusable Workflows &amp; Workflow Marketplace<\/a>).\n\nAnything that an application is doing, a workflow should be able to do by providing a simple interface (and an advanced mode for the ones who want)\n\nI&hellip;","upvoteCount":0,"answerCount":1,"dateCreated":"2019-05-19T07:35:05.318Z","author":{"@type":"Person","name":"Anthony"},"acceptedAnswer":{"@type":"Answer","text":"We decided to not merge workflows and services but to keep them separated with a strong dependency from workflow to service. See <a href="https://forum.mesg.com/t/integration-of-workflows-in-services-solves-service-composition/\&quot;https://forum.mesg.com/t/workflow-implementation/281\&quot;" class=\"inline-onebox\">Workflow implementation<\/a>.\n\nWe can still imagine a similar feature than this one by deploying a new workflow that also deploy the services, and that connect the events and r&hellip;","upvoteCount":0,"dateCreated":"2019-09-24T04:03:32.222Z","url":"https://forum.mesg.com/t/integration-of-workflows-in-services-solves-service-composition/283/2","author":{"@type":"Person","name":"Nicolas"}}}}</script>
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/1X/81100f444852fa77ae7cd5276c5683e9a8cfc9a2.png" alt="MESG Community" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="283.html">Integration of workflows in services (solves service composition)</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/development.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #AB9364'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/development/engine.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #AB9364'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Engine</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='../../tag/proposal.html' class='discourse-tag' rel="tag">proposal</a>
        </div>
      </div>
  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='MESG Foundation'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.mesg.com/uploads/default/original/1X/81100f444852fa77ae7cd5276c5683e9a8cfc9a2.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/Anthony.html'><span itemprop='name'>Anthony</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="283.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-05-19T07:35:05Z' class='post-time'>
                May 19, 2019,  7:35am
              </time>
              <meta itemprop='dateModified' content='2019-05-19T07:35:05Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <h1>Goal</h1>
<p>Having the possibility to create and connect existing workflows/applications (already discussed here <a href="../reusable-workflows-workflow-marketplace/207.html" class="inline-onebox">Reusable Workflows &amp; Workflow Marketplace</a>).<br>
Anything that an application is doing, a workflow should be able to do by providing a simple interface (and an advanced mode for the ones who want)</p>
<p>In order to solve all that and even more (like <a href="../service-composition/22.html" class="inline-onebox">Service composition</a>) we can merge the concept of application and services. This way applications are managed by the engine and the user don’t have to do anything more to start its application.<br>
Also now that the service and the application/workflow are the same they can share the exact same properties and be shared and validate on the network the same way, we don’t need to have two different kinds of data to synchronize.</p>
<p>A service has at least one of the following properties:</p>
<ul>
<li>tasks: to expose tasks for other services to execute</li>
<li>events: to expose events for other services to listen</li>
<li>workflows: to link events to tasks</li>
</ul>
<p>Workflows can connect internal and external data. This fixes the <a href="../service-composition/22.html" class="inline-onebox">Service composition</a> problem.</p>
<p>Here is the list of possible connections for the workflow:</p>
<ul>
<li>Listen to an <strong>external event</strong> and trigger an <strong>external task</strong> (pure application workflow)</li>
<li>Listen to an <strong>external event</strong> and trigger an <strong>internal task</strong>
</li>
<li>Listen to an <strong>internal event</strong> and trigger an <strong>external task</strong>
</li>
<li>Listen to an <strong>internal event</strong> and trigger an <strong>internal task</strong> (possibility to create services based on workflows)</li>
</ul>
<p>With this in mind, users might want to define tasks and events for their internal use so we can introduce a new attribute <code>visibility</code> on the task and event that can be either <code>external/internal</code> or <code>public/private</code> (not decided yet but public/private makes more sense with “public” by default)</p>
<p>When the engine receives a private event/task, this will not be propagated to anyone except the actual service.</p>
<h1>Implementation</h1>
<p>Based on the current definition of the <a href="../workflow-implementation/281.html" class="inline-onebox">Workflow implementation</a> we can use the exact same data structure for the service definition.</p>
<pre><code class="lang-json">{
  tasks: []
  events: []
  workflows: [{
    name: "name of workflow",
    description: "description",
    trigger: {
      service: "serviceHash",
      eventKey: "xxx",
      filter: { x: "y" }
    },
    tasks: [
      { service: "serviceHash", taskKey: "xxx" },
      { service: "serviceHash", taskKey: "xxx" },
    ]
  }]
}
</code></pre>
<p>This implementation is limited to only the case “Listen to an <strong>external event</strong> and trigger an <strong>external task</strong>” as the serviceHash of the current service will not be defined. There are two ways to introduce internal events/tasks:</p>
<ul>
<li>omit the service (if there is no service then it’s the current service)</li>
<li>introduce a keyword for the current service like <code>this</code> or <code>self</code> which is common in a programming language</li>
</ul>
<p>With all that, we can now create applications with a workflow and also do <a href="../service-composition/22.html" class="inline-onebox">Service composition</a> as we can listen or execute a task from external services.</p>
<h3>Tasks</h3>
<ul>
<li>
<span class="chcklst-box fa fa-square-o fa-fw"></span> Update service definition with a list of workflows</li>
<li>
<span class="chcklst-box fa fa-square-o fa-fw"></span> Start the workflow engine based on the workflows from all the services</li>
<li>
<span class="chcklst-box fa fa-square-o fa-fw"></span> When starting the workflow in the engine, make sure to replace the self/this with the actual service hash</li>
<li>
<span class="chcklst-box fa fa-square-o fa-fw"></span> (optional/to define) Deploy a workflow based on a definition in the mesg.yml file (other formats could be considered as long as they can “compile” to the format in the service definition)</li>
<li>
<span class="chcklst-box fa fa-square-o fa-fw"></span> Create a badass documentation to explain all that with nice schemas</li>
<li>
<span class="chcklst-box fa fa-square-o fa-fw"></span> Also explain the current limitation and the workarounds
<ul>
<li>
<span class="chcklst-box fa fa-square-o fa-fw"></span> Create a tree of executions based on results of another branch from another workflow</li>
<li>
<span class="chcklst-box fa fa-square-o fa-fw"></span> Access data from another branch by having an “aggregator” task in the other branch</li>
</ul>
</li>
<li>
<span class="chcklst-box fa fa-square-o fa-fw"></span> Celebrate this feature <img src="../../images/emoji/twitter/tada.png%3Fv=9" title=":tada:" class="emoji" alt=":tada:">
</li>
</ul>
        </div>

        <meta itemprop='headline' content='Integration of workflows in services (solves service composition)'>
          <meta itemprop='keywords' content='proposal'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='MESG Foundation'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.mesg.com/uploads/default/original/1X/81100f444852fa77ae7cd5276c5683e9a8cfc9a2.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/Nicolas.html'><span itemprop='name'>Nicolas</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="283.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2019-09-24T04:03:32Z'>
              <time itemprop='dateModified' datetime='2019-09-24T04:03:34Z' class='post-time'>
                September 24, 2019,  4:03am
              </time>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>We decided to not merge workflows and services but to keep them separated with a strong dependency from workflow to service. See <a href="../workflow-implementation/281.html" class="inline-onebox">Workflow implementation</a>.</p>
<p>We can still imagine a similar feature than this one by deploying a new workflow that also deploy the services, and that connect the events and results from one service to the others.</p>
        </div>

        <meta itemprop='headline' content='Integration of workflows in services (solves service composition)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../index.html' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../categories.html' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../tos.html' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../privacy.html' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
